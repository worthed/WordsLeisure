require "import"
import "str"

this.setContentView(loadlayout ({
  RelativeLayout,
  --id="conf",
  layout_width="fill",
  layout_height="fill",
  --visibility=4,
  backgroundColor=背景色,
  --orientation="vertical",
  --elevation="2%w",
  paddingTop=状态栏高度,
  {
    ScrollView,
    --OverScrollMode=2,
    layout_width="fill",
    id="confscr",
    --verticalScrollBarEnabled=false,
    {
      LinearLayout,
      layout_width="fill",
      gravity="center",
      orientation="vertical",
      {
        FrameLayout,
        layout_width="fill",
        layout_marginTop="56dp",
        --sort("源"),
      },
      {
        TextView,
        text="更多壁纸源待添加",
        textColor=淡色,
        textSize="12sp",
        layout_width="fill",
        gravity="center",
        --visibility=8,
        paddingBottom="8dp",
        paddingLeft="16dp",
        paddingRight="16dp",
      },
      {
        FrameLayout,
        --layout_height=lay_wh,
        layout_width="fill",
        padding="16dp",
        layout_gravity="center",
        onClick=function ()
          this.newActivity("thirdparty/wallpaper/bing")
        end,
        foreground=波纹(波纹色),
        {
          TextView,
          text="必应壁纸",
          textSize="16sp",
          textColor=文字色,
          layout_gravity="left|center",
          layout_height="fill",
          gravity="center",
        },
        {
          ImageView,
          colorFilter=图标色,
          src="drawable/arrow.png",
          rotation=-90,
          --layout_alignParentRight=true,
          layout_width="26dp",
          layout_height="26dp",
          layout_gravity="center|right",
        },
      },
      {
        FrameLayout,
        --layout_height=lay_wh,
        layout_width="fill",
        visibility=8,
        padding="16dp",
        layout_gravity="center",
        onClick=function ()
          this.newActivity("thirdparty/wallpaper/bizhi")
        end,
        foreground=波纹(波纹色),
        id="nihaowu",
        {
          TextView,
          text="头像壁纸",
          textSize="16sp",
          textColor=文字色,
          layout_gravity="left|center",
          layout_height="fill",
          gravity="center",
        },
        {
          ImageView,
          colorFilter=图标色,
          src="drawable/arrow.png",
          rotation=-90,
          --layout_alignParentRight=true,
          layout_width="26dp",
          layout_height="26dp",
          layout_gravity="center|right",
        },
      },
      --bizhi页面
    },
  },
  {
    LinearLayout,
    layout_width="fill",
    layout_height="56dp",
    foreground=上下渐变({背景色,深透,淡透}),
  },
  {
    RelativeLayout,
    layout_width="fill",
    layout_height="56dp",
    gravity="center",
    padding="16dp",
    --backgroundColor=背景色,
    elevation="2dp",
    paddingTop="8dp",
    paddingBottom="8dp",
    {
      ImageView,
      colorFilter=图标色,
      src="drawable/back.png",
      layout_height="fill",
      layout_width="44dp",
      foreground=波纹(波纹色),
      onClick=function ()
        this.finish()
      end,
      padding="9dp",
    },
    {
      ImageView,
      src="drawable/down_folder.png",
      layout_height="fill",
      layout_width="44dp" ,
      foreground=波纹(波纹色),
      onClick=function ()
        this.newActivity("thirdparty/wallpaper/saved_wall",{2})
      end,
      padding="9dp",
      colorFilter=图标色,
      layout_alignParentRight=true,
    },
    {
      TextView,
      layout_width="fill",
      layout_height="fill",
      gravity="center",
      --layout_gravity="center",
      text="壁纸",
      textSize="20sp",
      textColor=文字色,
    },
  },
}))

Http.get("https://bizhi.nihaowua.com/", function (c,n)
  if c~=200 and (n:find("validate certificate") or c>=400) then
   else
    nihaowu.setVisibility(0)
  end
end)

--this.newActivity("thirdparty/wallpaper/bizhi")